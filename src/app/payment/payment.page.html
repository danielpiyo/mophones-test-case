<ion-header class="ion-no-border" mode="md">
  <ion-toolbar>
    <ion-button data-testid="back-button" (click)="goBack()" fill="clear" size="small" slot="start">
      <ion-icon name="chevron-back" style="font-size: 24px;"></ion-icon>
    </ion-button>
    <ion-title data-testid="title" style="padding: 0px;">Payment</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="main_content_div">

    <div class="stepper_div" data-testid="stepper-section">
      <div class="round_div" [class.completed]=" tabID >=1 "></div>
      <div class="line_div"></div>
      <div class="line_div"></div>
      <div class="round_div" [class.completed]=" tabID >=3 "></div>
    </div>


    <div data-testid="tab1-section" *ngIf="tabID === 1">

      <img data-testid="logo-img" src="assets/imgs/MO-Logo-01_160x.webp">
      <ion-label class="name_lbl" data-testid="product-detail">Mophones product</ion-label>
      <ion-label class="spec_lbl">Iphone X</ion-label>

      <div class="border_div" data-testid="account-number">
        <ion-label class="date_lbl">Ac/No: KE-MZ0578W</ion-label>
      </div>


      <ion-row data-testid="balance-row">
        <ion-col size="6">
          <ion-label class="green_name">Loan balance:</ion-label>
        </ion-col>
        <ion-col size="6"> <span class="green_name_value">ksh 23,050</span></ion-col>
      </ion-row>
      <ion-row data-testid="last-payment-row">
        <ion-col size="6">
          <ion-label class="green_name">Last payment:</ion-label>
        </ion-col>
        <ion-col size="6"> <span class="green_name_value">30th Dec 2023</span></ion-col>
      </ion-row>

      <ion-row data-testid="usage-left">
        <ion-col size="6">
          <ion-label class="green_name">Usage days left:</ion-label>
        </ion-col>
        <ion-col size="6"> <span class="green_name_value">30 days</span></ion-col>
      </ion-row>

      <!-- List of details -->
      <ion-row data-testid="cost-usage">
        <ion-col size="6">
          <ion-label class="green_name">Cost per usage day</ion-label>
        </ion-col>
        <ion-col size="6"> <span class="green_name_value">ksh 50</span></ion-col>
      </ion-row>

      <ion-row data-testid="payment-number">
        <ion-col size="6">
          <ion-label class="green_name">Current phone number:</ion-label>
        </ion-col>
        <ion-col size="6"> <span class="green_name_value">0798-xx-xx-xx</span></ion-col>
      </ion-row>

      <!-- payment amount -->
      <ion-label class="name_lbl" data-testid="payment-label">
        <ion-chip>Enter Amount to Pay</ion-chip>
      </ion-label>
      <ion-input data-testid="payment-amont" type="number" placeholder="Enter Amount"></ion-input>


      <ion-button data-testid="pay-button" expand="block" shape="round" (click)="tabID = 3">
        Pay with M-Pesa
      </ion-button>
    </div>

    <div data-testid="tab3-section" *ngIf="tabID === 3" class="app_detail">
      <img src="assets/imgs/secure.png">
      <ion-label class="bold_lbl">PAYMENT CONFIRM</ion-label>
      <ion-label class="grey_lbl">Your device is now active untill 4th February 2024 at 11:30 AM.</ion-label>

      <div class="border_div2">
        <ion-label class="grey_lbl">Time left before blockage.</ion-label>
        <ion-label class="bold_lbl">38 Days 4 hours</ion-label>
      </div>


      <ion-button expand="block" shape="round" (click)="goToTabs()">
        Done
      </ion-button>
    </div>


  </div>
</ion-content>